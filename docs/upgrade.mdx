---
id: upgrade
title: 更新日志
---

import useBaseUrl from "@docusaurus/useBaseUrl";
import Tag from "@site/src/components/Tag.js";
import Highlight from '@site/src/components/Highlight.js';

### v10.4

#### PRO 授权调整公告

自 **10.4 版本** 起，PRO 授权模式进行了以下调整：

- **取消固定的 LicenseKey 文件**，改为 **动态授权密钥**（一机一码）。
- **个人/企业授权 仍为永久授权**，但用户在项目部署时 **需联系作者获取注册码**，个人/企业授权一直都是 **仅限于被授权方自身承接的项目** 的授权，所以本次改动不影响用户授权权益，有不便之处，敬请见谅。

本次调整旨在 **防止 PRO 插件授权的二次售卖**，确保正版用户权益不受损害。

如有任何疑问，请联系作者获取更多信息。

##### 获取唯一编码的途径

<img src={require("@site/static/img/docs/唯一编码.png").default} />

联系作者，提供唯一编码以获取注册码

### v10.4.18

- &nbsp;<Tag>新增</Tag> 新增 **变量分组** 属性，实现插件分组上传


### v10.2.4

- &nbsp;<Tag>优化</Tag> 规则引擎 自定义执行脚本支持 ``IDisposable`` 接口

- &nbsp;<Tag>调整</Tag> 脚本内日志对象统一命名为 ``Logger``



### v10.2.1

- &nbsp;<Tag>新增</Tag> 新增 配置 通道、设备、变量的数量限制，防止OOM

- &nbsp;<Tag>优化</Tag> 优化 ``opcuaserver`` 插件刷新变量逻辑

- &nbsp;<Tag>调整</Tag> taos插件 表名称 强制小写

- &nbsp;<Tag>调整</Tag> 数据库插件 脚本父类更改


### v10.1.21

- &nbsp;<Tag>新增</Tag> 新增在线excel配置 通道/设备/变量


### v10.1.20

- &nbsp;<Tag>优化</Tag> 优化excel导入速度

- &nbsp;<Tag>优化</Tag> 优化taos插件插入数据速度

- &nbsp;<Tag>优化</Tag> DB插件全部增加设备名称筛选项



- &nbsp;<Tag>调整</Tag> 更改默认sqlite数据库目录


- &nbsp;<Tag>修复</Tag> taos插件多个插件设备但同个变量名称的插入逻辑错误


### v10.1.9


- &nbsp;<Tag>新增</Tag> mqttClient插件支持SSL/TLS


### v10.1.1


- &nbsp;<Tag>调整</Tag> 性能优化，内存进一步降低

- &nbsp;<Tag>调整</Tag> 生成环境默认不开启swagger

- &nbsp;<Tag>修复</Tag> 变量寄存器编辑UI 输出错误

- &nbsp;<Tag>修复</Tag> 变量表筛选结果，数量错误


### v10.1


- &nbsp;<Tag>调整</Tag> 变量名称 由 全局唯一 更改为 采集设备内唯一

破坏性更新：

1、兼容v10.0版本数据库，但不兼容v10.0版本excel文件，不同点在于变量excel 业务属性页，添加了设备名称和业务设备名称，旧版本只有业务设备名称。

2、业务默认上传内容更改为 字典类型，键为设备名称，值为变量列表。变量列表内容与旧版本相同。

3、rpc参数更改为 字典类型，键为设备名称，值为变量字典(包含变量名称和写入值)。


### v10.0

- &nbsp;<Tag>调整</Tag> 重构网关UI，网关页面以树节点显示通道-设备-变量为主，优化多处操作体验

- &nbsp;<Tag>调整</Tag> 添加独立设备日志，独立通道日志

- &nbsp;<Tag>调整</Tag> 重构任务管理，支持插件动态更新变量，组态编辑后实时生效，添加变量寄存器编辑UI，新手组态更直接



### v7.2.0.99


- &nbsp;<Tag>调整</Tag> 规则引擎：自定义脚本接口定义修改，增加Logger属性




### v7.2.0.80


- &nbsp;<Tag>调整</Tag> 多个业务插件 增加``上传模式``，分为`` 定时/变化/定时或变化 ``的模式，删除``是否定时``的选项



### 6.1.0.23

- &nbsp;<Tag>新增</Tag> 繁体语言资源
- &nbsp;<Tag>新增</Tag> 关系库存储插件支持动态表格式脚本
- &nbsp;<Tag>新增</Tag> MqttCollect插件，支持mqtt采集

- &nbsp;<Tag>调整</Tag> mqttServer不再保留全部变量遗嘱数据，可使用quest rpc获取

- &nbsp;<Tag>修复</Tag> 修复多个错误

### 6.0.5.24

- &nbsp;<Tag>新增</Tag> 基础库增加 net8 编译项
- &nbsp;<Tag>新增</Tag> SqlHisAlarm插件添加表名称配置属性
- &nbsp;<Tag>调整</Tag> 默认server gc true，如有低内存需要，更改 MSBuild 项


### 6.0.5.21

- &nbsp;<Tag>新增</Tag> mqtt协议适配thingsboard


### 6.0.5.16

- &nbsp;<Tag>调整</Tag> questdb初始化失败时更新的时间为格里威治时间



### 6.0.5.15

- &nbsp;<Tag>调整</Tag> await统一添加ConfigureAwait(false)
- &nbsp;<Tag>优化</Tag> 优化UI卡顿问题


### 6.0.5.14

- &nbsp;<Tag>新增</Tag> 添加报警延时逻辑
- &nbsp;<Tag>新增</Tag> mqtt脚本添加检查按钮
- &nbsp;<Tag>优化</Tag> opcuaMaster 服务端时间戳选项在轮询模式下不生效
- &nbsp;<Tag>优化</Tag>  aop插入日志ip字段 非null

### 6.0.5.13

- &nbsp;<Tag>优化</Tag>  修改用户中心的修改密码为密码输入框
- &nbsp;<Tag>优化</Tag>  opcua轮询采集时异常捕获内容包含当前读取地址

### 6.0.5.12

- &nbsp;<Tag>优化</Tag>  更新依赖项
- &nbsp;<Tag>调整</Tag>  修改构建脚本
- &nbsp;<Tag>调整</Tag>  添加arm64 docker镜像


### 6.0.5.10

- &nbsp;<Tag>优化</Tag>  photino版本退出时释放资源
- &nbsp;<Tag>新增</Tag>  添加winform版本

### 6.0.5.7

- &nbsp;<Tag>优化</Tag> 设备PluginType属性增加多语言资源键值
- &nbsp;<Tag>修复</Tag> 权限框架解决方案编译错误
- &nbsp;<Tag>优化</Tag> index 首页 页面文件迁移至主程序
- &nbsp;<Tag>优化</Tag>更新依赖包

### 6.0.5.5

- &nbsp;<Tag>修复</Tag> newlife.x工具库部分命名空间错误
- &nbsp;<Tag>优化</Tag> DtuId属性描述添加'UTF8'
- &nbsp;<Tag>优化</Tag> 更新依赖项

### 6.0.5.1

- &nbsp;<Tag>优化</Tag> 分离部分代码
- &nbsp;<Tag>优化</Tag> 调整代码架构，分出blaor server与blazor hybrid架构的服务代码

### 6.0.4.60

- &nbsp;<Tag>优化</Tag> 支持全局按钮权限
- &nbsp;<Tag>优化</Tag> 修改服务类插件启动错误后的等待间隔时间


## v5.0.0.1
> 2024-1-21

**更新描述：**

此版本是大版本更新。可能会产生很多不兼容部分，所以升级之前请做好备份。

如果需要从5.0前升级，请按以下操作进行

1、导出旧版本的excel配置文件，包括采集设备、上传设备、变量等

2、5.0框架中，只建立一个对应插件的设备/变量，这一步是因为插件是按需导出的，需要建立对应插件，才会导出相应的sheet，建好后导出excel

3、参照5.0版本的excel内容，把旧版本的配置内容移到新版本excel文件中

4、导入已修改好的5.0版本excel配置文件

**更新详情：**

- &nbsp;<Tag>调整</Tag> 重构采集驱动底层，网关缓存
- &nbsp;<Tag>调整</Tag> 重构网关权限管理框架
- &nbsp;<Tag>调整</Tag> 重构网关线程管理器
- &nbsp;<Tag>调整</Tag> 重构网关断线续传功能
- &nbsp;<Tag>调整</Tag> 重构脚本支持，方便对应各大云平台的iot格式
- &nbsp;<Tag>调整</Tag> 调整网关UI外观风格



## v3.0.0.25

- &nbsp;<Tag>调整</Tag> 删除S7插件中的DstTSAP属性,用插槽号与机架号代替，更直观
- &nbsp;<Tag>调整</Tag> OPCUAServer插件 url属性支持多个url，以逗号分割

## v3.0.0.19

- &nbsp;<Tag>新增</Tag> 添加TDengineDB时序库上传插件
- &nbsp;<Tag>新增</Tag> 添加QuestDB时序库上传插件
- &nbsp;<Tag>新增</Tag> 添加DLT645采集插件
- &nbsp;<Tag>新增</Tag> 添加调试软件


## v1.7.0

- &nbsp;<Tag>优化</Tag> OPCUAClient支持动态类型


## v1.2.0

  - &nbsp;<Tag>新增</Tag> 添加OPCUAServer插件

##

## v1.1.0

  - &nbsp;<Tag>新增</Tag> 添加OPCDAClient采集插件

  - &nbsp;<Tag>新增</Tag> 添加OPCUAClient采集插件

  - &nbsp;<Tag>新增</Tag> 串口基础框架

##

## v1.0.0

  - &nbsp;<Tag>新增</Tag> 初始发布


##
